# 梦灯盒 (DreamLampBox)

安装不了可接个鼠标试试

​🤖 AI 声明

​本项目（梦灯盒）的核心代码由 AI (如 Trae/Claude/GPT-4) 辅助编写完成。作者负责整体架构设计、需求定义、逻辑调试及最终集成。
一个专为国产电视盒子优化的本地视频播放器，完美解决 MGV3000-YS 等定制盒子的兼容性问题。

## 🎯 项目特色

- **🔧 深度兼容性优化**：专门针对国产电视盒子解析包错误问题
- **📺 完整TV遥控器支持**：D-pad导航、媒体键控制、菜单切换
- **💾 断点记忆播放**：自动保存播放进度，下次续播
- **🎬 多格式支持**：MP4、MKV、AVI、MOV、WebM、TS等主流格式
- **⚡ 高效播放引擎**：基于ExoPlayer，性能稳定流畅
- **🎨 TV优化界面**：全屏铺满、焦点指示、零边距设计

## 🛠️ 技术特性

### 系统要求
- **最低API**：Android 5.0 (API 21)
- **目标架构**：32位 (armeabi-v7a) - 完美适配定制盒子
- **签名方式**：V1+V2双重签名，兼容老旧系统
- **硬件要求**：无触摸屏要求，专为TV盒子设计

### 核心功能
```
✅ 强制32位架构支持
✅ V1签名协议兼容
✅ Leanback启动器支持
✅ 完整遥控器按键映射
✅ 断点续播记忆功能
✅ 多种视频格式解码
✅ 自动播放列表循环
✅ 存储权限智能适配
```

## 📱 遥控器操作指南

| 按键 | 功能 |
|------|------|
| 上/下 | 视频列表导航 |
| 左/右 | 快进/快退10秒 |
| OK/确认 | 播放选中视频 |
| 菜单 | 显示/隐藏视频列表 |
| 播放/暂停 | 切换播放状态 |
| 返回 | 退出列表/返回 |

## 🚀 快速开始

### 环境要求
- Android Studio Arctic Fox 或更高版本
- JDK 11 或更高版本
- Android SDK 21+

### 构建步骤
```bash
# 克隆项目
git clone https://github.com/github9999999999999999999/DreamLampBox-.git

# 进入项目目录
cd DreamLampBox-

# 构建APK
./gradlew assembleDebug
```

### 安装方法
构建完成后，APK文件位于：
```
app/build/outputs/apk/debug/app-debug.apk
```

直接安装到您的电视盒子即可使用。

## 🔧 兼容性说明

### 已测试设备
- ✅ MGV3000-YS (中国移动定制盒子)
- ✅ Konka 智能电视
- ✅ Android 8.0 机顶盒
- ✅ 各种国产32位电视盒子

### 解决的核心问题
1. **解析包错误**：通过V1签名和32位架构强制适配
2. **安装失败**：移除触摸屏硬件要求
3. **遥控器不支持**：完整TV按键映射
4. **播放卡顿**：ExoPlayer硬解码优化

## 📁 项目结构

```
DreamLampBox-/
├── app/
│   ├── src/main/java/com/example/theone/
│   │   ├── MainActivity.kt          # 主播放界面
│   │   ├── PlayerActivity.java    # 播放器控制
│   │   ├── VideoScanner.java      # 视频文件扫描
│   │   └── VideoListAdapter.java  # 视频列表适配
│   └── src/main/res/              # UI资源文件
├── gradle/                        # Gradle配置
├── .gitignore                     # Git忽略规则
└── build.gradle.kts              # 构建配置
```

## 🔒 安全与隐私

- **本地播放**：所有视频文件仅在本地播放，不上传任何数据
- **最小权限**：仅请求必要的存储权限
- **无广告追踪**：完全离线使用，无隐私收集
- **开源透明**：代码完全开放，可自由审计

## 📝 开源协议

本项目采用 MIT 协议开源 - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发规范
1. 保持代码简洁，注释清晰
2. 遵循 Android TV 开发最佳实践
3. 确保遥控器兼容性
4. 提交前进行充分测试

## 📞 支持与反馈

如有问题或建议，请在 GitHub Issues 中提出。

---

**⭐ 如果这个项目帮助到了您，请给个 Star 支持一下！**